(()=>{"use strict";const e=Vue;var t={class:"p-4"},a=["href","target"],r={class:"text-right p-4"};const n={__name:"TableRow",props:{row:Object},setup:function(n){return function(l,o){return(0,e.openBlock)(),(0,e.createElementBlock)("tr",null,[(0,e.createElementVNode)("td",t,[(0,e.createElementVNode)("p",null,[n.row.url?((0,e.openBlock)(),(0,e.createElementBlock)("a",{key:0,href:n.row.url,class:"link-default",target:n.row.openInNewTab?"_blank":null},(0,e.toDisplayString)(n.row.title),9,a)):((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:1},[(0,e.createTextVNode)((0,e.toDisplayString)(n.row.title),1)],64))])]),(0,e.createElementVNode)("td",r,(0,e.toDisplayString)(n.row.detail),1)])}}};var l={class:"flex items-center justify-between p-4"},o={class:"text-gray-800 w-full font-semibold dark:text-white"},c={class:"w-full"},s={class:"bg-gray-50 dark:bg-gray-900"},i={class:"font-semibold p-4 text-left text-xs"},d={class:"font-semibold p-4 text-right text-xs"},u={class:"divide-y divide-gray-100 dark:divide-gray-700"};const g={__name:"Card",props:["card"],setup:function(t){var a=t,r=(0,e.ref)(a.card.ranges.filter((function(e){return e.value===a.card.range}))[0]),g=(0,e.ref)(!1),m=(0,e.ref)(a.card.items),p=function(e){a.card.hasRanges&&(r.value=a.card.ranges.filter((function(t){return t.value===e}))[0],g.value=!0,Nova.request().get("/nova-vendor/nova-table-metrics?card=".concat(a.card.uriKey,"&range=").concat(e)).then((function(e){var t=e.data;m.value=t,g.value=!1})))};return function(a,f){var k=(0,e.resolveComponent)("SelectControl"),v=(0,e.resolveComponent)("LoadingCard");return(0,e.openBlock)(),(0,e.createBlock)(v,{loading:g.value},{default:(0,e.withCtx)((function(){return[(0,e.createElementVNode)("header",l,[(0,e.createElementVNode)("h3",o,[(0,e.createTextVNode)((0,e.toDisplayString)(t.card.title)+" ",1),t.card.hasRanges?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[(0,e.createTextVNode)("("+(0,e.toDisplayString)(r.value.label.toLowerCase())+")",1)],64)):(0,e.createCommentVNode)("",!0)]),t.card.hasRanges?((0,e.openBlock)(),(0,e.createBlock)(k,{key:0,class:"ml-auto w-[10rem] flex-shrink-0",size:"xs",options:t.card.ranges,selected:r.value.value,onChange:p,"aria-label":a.__("Select Ranges")},null,8,["options","selected","aria-label"])):(0,e.createCommentVNode)("",!0)]),(0,e.createElementVNode)("table",c,[(0,e.createElementVNode)("thead",s,[(0,e.createElementVNode)("tr",null,[(0,e.createElementVNode)("th",i,(0,e.toDisplayString)(t.card.heading),1),(0,e.createElementVNode)("th",d,(0,e.toDisplayString)(t.card.detail),1)])]),(0,e.createElementVNode)("tbody",u,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(m.value,(function(t){return(0,e.openBlock)(),(0,e.createBlock)(n,{row:t,key:a.index},null,8,["row"])})),128))])])]})),_:1},8,["loading"])}}};Nova.booting((function(e,t){e.component("nova-table-metrics",g)}))})();