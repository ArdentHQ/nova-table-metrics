(()=>{"use strict";const e=Vue;var t={class:"p-4"},r=["href","target"],a={class:"text-right p-4"};const o={__name:"TableRow",props:{row:Object},setup:function(o){return function(l,n){return(0,e.openBlock)(),(0,e.createElementBlock)("tr",null,[(0,e.createElementVNode)("td",t,[(0,e.createElementVNode)("p",null,[o.row.url?((0,e.openBlock)(),(0,e.createElementBlock)("a",{key:0,href:o.row.url,class:"link-default",target:o.row.openInNewTab?"_blank":null},(0,e.toDisplayString)(o.row.title),9,r)):((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:1},[(0,e.createTextVNode)((0,e.toDisplayString)(o.row.title),1)],64))])]),(0,e.createElementVNode)("td",a,(0,e.toDisplayString)(o.row.detail),1)])}}};var l={class:"flex items-center justify-between p-4"},n={class:"text-gray-800 w-full font-semibold dark:text-white"},c={class:"w-full"},i={class:"bg-gray-50 dark:bg-gray-900"},d={class:"font-semibold p-4 text-left text-xs"},s={class:"font-semibold p-4 text-right text-xs"},u={class:"divide-y divide-gray-100 dark:divide-gray-700"};const p={__name:"Card",props:["card"],setup:function(t){var r=t,a=(0,e.ref)(r.card.periods.filter((function(e){return e.value===r.card.period}))[0]),p=(0,e.ref)(!1),m=(0,e.ref)(r.card.items),f=function(e){r.card.hasPeriodSelector&&(a.value=r.card.periods.filter((function(t){return t.value===e}))[0],p.value=!0,Nova.request().get("/nova-vendor/nova-table-metrics?table=".concat(r.card.uriKey,"&period=").concat(e)).then((function(e){var t=e.data;m.value=t,p.value=!1})))};return function(r,g){var k=(0,e.resolveComponent)("SelectControl"),v=(0,e.resolveComponent)("LoadingCard");return(0,e.openBlock)(),(0,e.createBlock)(v,{loading:p.value},{default:(0,e.withCtx)((function(){return[(0,e.createElementVNode)("header",l,[(0,e.createElementVNode)("h3",n,[(0,e.createTextVNode)((0,e.toDisplayString)(t.card.title)+" ",1),t.card.hasPeriodSelector?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[(0,e.createTextVNode)("("+(0,e.toDisplayString)(a.value.label.toLowerCase())+")",1)],64)):(0,e.createCommentVNode)("",!0)]),t.card.hasPeriodSelector?((0,e.openBlock)(),(0,e.createBlock)(k,{key:0,class:"ml-auto w-[10rem] flex-shrink-0",size:"xs",options:t.card.periods,selected:a.value.value,onChange:f,"aria-label":r.__("Select Ranges")},null,8,["options","selected","aria-label"])):(0,e.createCommentVNode)("",!0)]),(0,e.createElementVNode)("table",c,[(0,e.createElementVNode)("thead",i,[(0,e.createElementVNode)("tr",null,[(0,e.createElementVNode)("th",d,(0,e.toDisplayString)(t.card.heading),1),(0,e.createElementVNode)("th",s,(0,e.toDisplayString)(t.card.detail),1)])]),(0,e.createElementVNode)("tbody",u,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(m.value,(function(t){return(0,e.openBlock)(),(0,e.createBlock)(o,{row:t,key:r.index},null,8,["row"])})),128))])])]})),_:1},8,["loading"])}}};Nova.booting((function(e,t){e.component("nova-table-metrics",p)}))})();